<!DOCTYPE html>
  <html>
    <head>
      
      <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
      <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
      <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
      <link rel="manifest" href="/manifest.json">
      <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
      <meta name="apple-mobile-web-app-title" content="Merry Swap">
      <meta name="application-name" content="Merry Swap">
      <meta name="theme-color" content="#ffffff">
      <!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      
      <!--CSS-->
      <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
      
      <link href='https://fonts.googleapis.com/css?family=Raleway:400,700,600' rel='stylesheet' type='text/css'>

      <link href='https://fonts.googleapis.com/css?family=Covered+By+Your+Grace' rel='stylesheet' type='text/css'>

      <link href='https://fonts.googleapis.com/css?family=Abel' rel='stylesheet' type='text/css'>

      <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>

      <!--website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
      <!-- index.handlebars -->
    </head>

    <body>

    <nav>
      <div class="nav-wrapper pink-bg">
        <!-- Merry Swap Logo -->
        <a id="brandClick" class="brand-logo swap left">Merry Swap</a>
        <ul id="nav-mobile" class="right">
        <li><a class="learnMore right">Learn More</a></li>
        <li><a class="modal-trigger right" href="#modal1">Sign Up</a></li>
        <li><a class="modal-trigger right" href="#modal2">Login</a></li>
        </ul>
      </div>
    </nav>


    <div id="index-banner" class="parallax-container top-image">
      <div class="container top-text">
        <h1 class="header white-text swapTitle center">Merry Swap A place where everyone gets what they want</h1>
          <div class="row center">
            <h4 class="header white-text col s12 light">A Perfect Place to find what you Love</h4>
          </div>
        <div class="row center">
          <a href="#modal1" id="download-button" class="btn-large waves-effect waves-light lighten-1 modal-trigger">Get Swapping</a>
        </div>
      </div>
 <!-- image goes here -->
      <div class="parallax"><img src="css/imgs/bg.jpg">
      </div>
    </div>

<!-- LEARN MORE SECTION  -->
    <div class="section bluebg" id="aboutSwap">
      <div class="row container">
       <h1 class="center white-text">Find Your Gift</h1>
          <div class="col s12 m4">
          <div class="icon-block">
            <!-- icon block description here -->
            <h2 class="center"><i class="material-icons medium pink-text">loyalty</i></h2>
            <h5 class="center white-text">Post a Product</h5>
            <p class="center white-text">Post a product in the Merry Swap page that you <br>no longer use or it didn't work out for you.</p>
          </div>
        </div>

        <div class="col s12 m4">
          <div class="icon-block">
            <h2 class="center"><i class="material-icons medium grey-text">shopping_cart</i></h2>
            <h5 class="center white-text">Browse Around</h5>

            <p class="center white-text">Look in other Merry Swap members swap page <br>to find products that you love.</p>
          </div>
        </div>

        <div class="col s12 m4">
          <div class="icon-block">
            <h2 class="center"><i class="material-icons medium pink-text">swap_calls</i></h2>
            <h5 class="center white-text">Make a Gift Swap</h5>

            <p class="center white-text">Ask the member to make a swap! <br>Swap your gift for their AWESOME gifts.</p>
          </div>
        </div>
      </div>
    </div>

    <div class="parallax-container">
  <!-- image goes here -->
      <div class="parallax"><img src="css/imgs/blueBlur.jpg">
      </div>
    </div>

  <!-- Sign Up Modal Structure -->
    <div id="modal1" class="modal">
      <div class="modal-content">
        <!-- button to clear the signup form -->
          <button id="clearSignUp" class="modal-close btn-flat" style="position:absolute;top:0;right:0;">X</button>

        <h4>Create your account</h4>

        <p>You'll be swapping in minutes!</p>
        <!-- Create Account Form -->
          <form>
          <div class="row">
            <div class="input-field col s6">
                <input id="first_name" type="text" class="validate">
                <label for="first_name">First Name</label>
            </div>
            <div class="input-field col s6">
                <input id="last_name" type="text" class="validate">
                <label for="last_name">Last Name</label>
            </div>
           </div>
           <div class="row">
              <div class="input-field col s12">
                <input id="emailSignUp" type="email" class="validate">
                <label for="emailSignUp">E-mail</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field col s12">
                <input id="passwordSignUp" type="password" class="validate">
                <label for="passwordSignUp">Password</label>
              </div>
            </div> 
          </form>


          <div class="modal-footer">
            <button class="btn waves-effect waves-light left" type="submit" name="action" id="signUp">Sign Up
            </button>
          </div>
      </div>
    </div>

    <!-- Login Modal Structure -->
    <div id="modal2" class="modal">
      <div class="modal-content">
          <button id="clearLogin" class="modal-close btn-flat" style="position:absolute;top:0;right:0;">X</button>
        <h4>Login to your account</h4>
        <p>You'll be swapping in minutes!</p>
        <!-- login form -->
          <form>
           <div class="row">
              <div class="input-field col s12">
                <input id="emailLogin" type="email" name="email-for-login" class="validate">
                <label for="emailLogin">E-mail</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field col s12">
                <input id="passwordLogin" type="password" class="validate">
                <label for="passwordLogin">Password</label>
              </div>
            </div> 
          </form>
          <div class="modal-footer">
            <button class="btn waves-effect waves-light left" type="submit" name="action" id="logIn">Login
            </button>

          </div>
      </div>
    </div>

    <footer class="page-footer blue" id="page-footer">
      <div class="container">
        <div class="row">
          <div class="col l6 s12">
            <h5 class="white-text">About Merry Swap</h5>
            <p class="grey-text text-lighten-4">It's that time of year where everyone is gifting each other gifts. There's always that one gift we get that unfortunately doesnt go to use in our homes. Meet Merry Swap the place wher you can find a like minded member who would rather see that item go to use than in a closet collecting dust!</p>
          </div>
          <div class="col l6 s12 right">
      <!-- image goes here -->
            <img src="css/imgs/teampic.jpg">
          </div>
        </div>
      </div>
      <!-- footer pinkT-->
      <div class="footer-copyright Merry Swap">
        <div class="container">
        </div>
      </div>
    </footer>

      <!--Import jQuery before materialize.js-->
      <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
      <!-- Import materialez -->
      <script type="text/javascript" src="js/materialize.js"></script>
      <!-- Import app.js -->
      <script src="js/app.js"></script>
      <!-- jquery -->
      <script type="text/javascript">
          
        // clear signup form function
        $('#clearSignUp').on("click", function() {
              $('#first_name').val('');
              $('#last_name').val('');
              $('#email').val('');
              $('#password').val('');
      });
    
        //user signup function
         $('#signUp').on("click", function() {
              var userInput = {
              firstName: $('#first_name').val().trim(),
              lastName: $('#last_name').val().trim(),
              email: $('#emailSignUp').val().trim(),
              password: $('#passwordSignUp').val().trim(),
              userImage: "https://www.mautic.org/media/images/default_avatar.png"
        }
        // ajax here
        var currentURL = window.location.origin;
        $.post(currentURL + '/api/newuser', userInput, function(data) {
          $('#modal1').closeModal();
          window.location.replace("/users/" + data.id);
        });

        return false;
      });

         // login function
      $('#logIn').on("click", function() {
        var userInput = {
          email: $('#emailLogin').val().trim(),
          password: $('#passwordLogin').val().trim()
        }
        
        var currentURL = window.location.origin;
        // ajax post method
        $.post(currentURL + '/login', userInput, function(data) {
          if(data.url){
            window.location = data.url;
          } else if(data.errorMessage){
            alert(data.errorMessage); 
          } else {
            alert("I'm sorry. The website has encountered a server failure.")
          }
        });


        return false;
      });
      </script>
    </body>
  </html>